<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} - Trợ Lý ảo văn hóa song ngữ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          screens: { 'xs': '480px' },
          colors: {
            'sky-light': '#a5f3fc',
            'sky-medium': '#0ea5e9',
            'sky-hover': '#0284c7',
            'accent-pink': '#ec4899',
            'accent-yellow': '#fbbf24',
            'bg-soft': '#f0fdfa',
            'card-bg': '#ffffff',
          },
          boxShadow: {
            'soft': '0 10px 30px rgba(14, 165, 233, 0.15)',
          },
        },
      },
    }
  </script>
</head>

<body class="font-sans antialiased bg-gradient-to-br from-sky-light to-accent-yellow min-h-screen">

  <!-- NAVIGATION -->
  <nav class="bg-gradient-to-r from-sky-medium to-accent-pink text-white shadow-xl sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-3">
          <a href="{{ url_for('index') }}" class="text-xl font-bold tracking-wider">Ứng dụng Văn hóa Đăk Nông</a>
        </div>

        <div class="hidden lg:flex items-center space-x-3">
           <a href="{{ url_for('index') }}" class="px-5 py-2 text-sm font-medium hover:bg-white hover:bg-opacity-25 rounded-full transition flex items-center gap-1"><i class="fas fa-robot"></i> Trợ Lý ảo văn hóa song ngữ</a>
           <a href="{{ url_for('daknong') }}" class="px-5 py-2 text-sm font-medium hover:bg-white hover:bg-opacity-25 rounded-full transition flex items-center gap-1"><i class="fas fa-landmark"></i> Di tích Đăk Nông</a>
           <a href="{{ url_for('admin_login') }}" class="bg-white bg-opacity-25 px-5 py-2 rounded-full font-bold hover:bg-opacity-40 transition flex items-center gap-1">
             <i class="fas fa-user-shield"></i> Quản Lý
           </a>
         </div>

        <button id="mobile-menu-button" class="lg:hidden text-white">
          <i class="fas fa-bars text-2xl"></i>
        </button>
      </div>

      <div id="mobile-menu" class="lg:hidden hidden bg-gradient-to-b from-sky-medium to-pink-600 rounded-xl mt-2 shadow-lg overflow-hidden">
         <a href="{{ url_for('index') }}" class="block px-6 py-3 text-sm hover:bg-white hover:bg-opacity-20 flex items-center gap-2"><i class="fas fa-robot"></i> Trợ Lý ảo văn hóa song ngữ</a>
         <a href="{{ url_for('daknong') }}" class="block px-6 py-3 text-sm hover:bg-white hover:bg-opacity-20 flex items-center gap-2"><i class="fas fa-landmark"></i> Di tích Đăk Nông</a>
         <a href="{{ url_for('admin_login') }}" class="block px-6 py-3 text-sm hover:bg-white hover:bg-opacity-20 flex items-center gap-2"><i class="fas fa-user-shield"></i> Quản Lý</a>
       </div>
    </div>
  </nav>

  <script>
    document.getElementById('mobile-menu-button').addEventListener('click', (e) => {
      e.stopPropagation();
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });
    document.addEventListener('click', (e) => {
      const menu = document.getElementById('mobile-menu');
      const btn = document.getElementById('mobile-menu-button');
      if (menu && !menu.contains(e.target) && !btn.contains(e.target)) menu.classList.add('hidden');
    });
  </script>

  <!-- MAIN CONTENT -->
  <main class="py-8 px-4">
    <div class="max-w-4xl mx-auto">
      <article class="bg-card-bg rounded-3xl shadow-soft p-6 sm:p-10 border-4 border-sky-light">

        <!-- ARTICLE HEADER -->
        <header class="mb-8">
          <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4">{{ title }}</h1>
          <div class="flex items-center justify-between text-gray-600 mb-6">
            <div class="flex items-center">
              <i class="fas fa-calendar mr-2"></i>
              <span>{{ date }}</span>
            </div>
            <button id="lang-toggle" class="bg-sky-medium hover:bg-sky-hover text-white px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2">
              <i class="fas fa-language"></i>
              <span id="lang-text">Đọc bằng Song ngữ</span>
            </button>
          </div>
          <img src="{{ image }}" alt="{{ title }}" class="w-full h-64 sm:h-80 object-cover rounded-lg shadow-lg mb-6">
        </header>

        <!-- ARTICLE CONTENT -->
        <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">
          {{ content | safe }}
        </div>

        <!-- BACK BUTTON -->
        <div class="text-center mt-8">
          <a href="{{ url_for('daknong') }}" class="bg-gradient-to-r from-sky-medium to-accent-pink hover:from-sky-hover hover:to-pink-600 text-white font-bold px-8 py-3 rounded-full inline-flex items-center gap-2 shadow-lg transform hover:scale-105 transition">
            <i class="fas fa-arrow-left"></i> Quay lại danh sách di tích
          </a>
        </div>
      </article>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const langToggle = document.getElementById('lang-toggle');
      const langText = document.getElementById('lang-text');
      const currentLang = '{{ current_lang }}';
      const siteSlug = window.location.pathname.split('/').pop().split('?')[0];

      // Set initial button state
      if (currentLang === 'en') {
        langText.textContent = 'Read in Vietnamese';
      } else {
        langText.textContent = 'Đọc bằng Song ngữ';
      }

      langToggle.addEventListener('click', function() {
        const newLang = currentLang === 'en' ? 'vi' : 'en';
        const newUrl = `/daknong/${siteSlug}?lang=${newLang}`;
        window.location.href = newUrl;
      });
    });
  </script>

</body>
</html>